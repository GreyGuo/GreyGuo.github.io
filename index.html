<!doctype html>
<html class="theme-next use-motion ">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>




  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.2"/>


    <meta name="description" content="郭楚沅的BLOG" />



  <meta name="keywords" content="郭楚沅的BLOG,郭楚沅,郭楚沅的博客" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.2" />



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?f05fdba2c76556669f940fff4a3e8c62";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>


  <title> 郭楚沅的BLOG </title>
</head>

<body>
  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">郭楚沅的BLOG</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>


  <ul id="menu" class="menu">
     
    
      
      <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首页
        </a>
      </li>
    
      
      <li class="menu-item menu-item-categories">
        <a href="/categories">
          <i class="menu-item-icon icon-categories"></i> <br />
          分类
        </a>
      </li>
    
      
      <li class="menu-item menu-item-archives">
        <a href="/archives">
          <i class="menu-item-icon icon-archives"></i> <br />
          归档
        </a>
      </li>
    
      
      <li class="menu-item menu-item-tags">
        <a href="/tags">
          <i class="menu-item-icon icon-tags"></i> <br />
          标签
        </a>
      </li>
    
  </ul>

  <li> <a title="把这个链接拖到你的Chrome收藏夹工具栏中" href='javascript:(function() {
  function c() {
    var e = document.createElement("link");
    e.setAttribute("type", "text/css");
    e.setAttribute("rel", "stylesheet");
    e.setAttribute("href", f);
    e.setAttribute("class", l);
    document.body.appendChild(e)
  }
 
  function h() {
    var e = document.getElementsByClassName(l);
    for (var t = 0; t < e.length; t++) {
      document.body.removeChild(e[t])
    }
  }
 
  function p() {
    var e = document.createElement("div");
    e.setAttribute("class", a);
    document.body.appendChild(e);
    setTimeout(function() {
      document.body.removeChild(e)
    }, 100)
  }
 
  function d(e) {
    return {
      height : e.offsetHeight,
      width : e.offsetWidth
    }
  }
 
  function v(i) {
    var s = d(i);
    return s.height > e && s.height < n && s.width > t && s.width < r
  }
 
  function m(e) {
    var t = e;
    var n = 0;
    while (!!t) {
      n += t.offsetTop;
      t = t.offsetParent
    }
    return n
  }
 
  function g() {
    var e = document.documentElement;
    if (!!window.innerWidth) {
      return window.innerHeight
    } else if (e && !isNaN(e.clientHeight)) {
      return e.clientHeight
    }
    return 0
  }
 
  function y() {
    if (window.pageYOffset) {
      return window.pageYOffset
    }
    return Math.max(document.documentElement.scrollTop, document.body.scrollTop)
  }
 
  function E(e) {
    var t = m(e);
    return t >= w && t <= b + w
  }
 
  function S() {
    var e = document.createElement("audio");
    e.setAttribute("class", l);
    e.src = i;
    e.loop = false;
    e.addEventListener("canplay", function() {
      setTimeout(function() {
        x(k)
      }, 500);
      setTimeout(function() {
        N();
        p();
        for (var e = 0; e < O.length; e++) {
          T(O[e])
        }
      }, 15500)
    }, true);
    e.addEventListener("ended", function() {
      N();
      h()
    }, true);
    e.innerHTML = " <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>";
    document.body.appendChild(e);
    e.play()
  }
 
  function x(e) {
    e.className += " " + s + " " + o
  }
 
  function T(e) {
    e.className += " " + s + " " + u[Math.floor(Math.random() * u.length)]
  }
 
  function N() {
    var e = document.getElementsByClassName(s);
    var t = new RegExp("\\b" + s + "\\b");
    for (var n = 0; n < e.length; ) {
      e[n].className = e[n].className.replace(t, "")
    }
  }
 
  var e = 30;
  var t = 30;
  var n = 350;
  var r = 350;
  var i = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3";
  var s = "mw-harlem_shake_me";
  var o = "im_first";
  var u = ["im_drunk", "im_baked", "im_trippin", "im_blown"];
  var a = "mw-strobe_light";
  var f = "//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css";
  var l = "mw_added_css";
  var b = g();
  var w = y();
  var C = document.getElementsByTagName("*");
  var k = null;
  for (var L = 0; L < C.length; L++) {
    var A = C[L];
    if (v(A)) {
      if (E(A)) {
        k = A;
        break
      }
    }
  }
  if (A === null) {
    console.warn("Could not find a node of the right size. Please try a different page.");
    return
  }
  c();
  S();
  var O = [];
  for (var L = 0; L < C.length; L++) {
    var A = C[L];
    if (v(A)) {
      O.push(A)
    }
  }
})()    '>越摇越烈</a> </li>



      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <div id="posts" class="posts-expand">
    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/13/Algorithm of the Week Shortest Path in a Directed Acyclic Graph/">
                本周算法：有向无环图的最短路径
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-04-13
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/算法/">算法</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/04/13/Algorithm of the Week Shortest Path in a Directed Acyclic Graph/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/04/13/Algorithm of the Week Shortest Path in a Directed Acyclic Graph/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p><h2>介绍</h2><br>我们已经知道了如何通过Dijkstra算法在非负权图中找到最短路径。即使图中有负权边，我们也知道通过Bellman-Ford算法找到一个从给定的源点到其它所有节点的最短路径。现在我们将看到一个在线性时间内运行得更快的算法，它可以在有向无环图中找到从一个给定的源点到其它所有可达顶点的最短路径，又名有向无环图（DAG）。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/04/13/Algorithm of the Week Shortest Path in a Directed Acyclic Graph/#more">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/图论/"> #图论 </a>
          
            <a href="/tags/算法/"> #算法 </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/04/10/Your Path to a $16B exit Build a J2ME App/">
                160亿美元的收购，你怎么看？ 从开发一个J2ME应用说起
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-04-10
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/资讯/">资讯</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/04/10/Your Path to a $16B exit Build a J2ME App/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/04/10/Your Path to a $16B exit Build a J2ME App/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p><a href="http://www.theverge.com/2014/2/19/5427332/facebook-is-buying-whatsapp">Facebook以160亿美元的不菲价格收购了WhatsApp</a>，最终还是发生了，这条新闻震惊了每个在硅谷的企业家。世界各地都共同惊呼“可是，WhatsApp和iMessage / Facebook Messenger / Hangouts相比到底有何不同？”</p>
<p>对于这个疑惑，我的答案就是：J2ME</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/04/10/Your Path to a $16B exit Build a J2ME App/#more">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Facebook/"> #Facebook </a>
          
            <a href="/tags/WhatsApp/"> #WhatsApp </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/02/08/工厂方法设计模式的最佳实践/">
                工厂方法设计模式的最佳实践
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2015-02-08
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/设计模式/">设计模式</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/02/08/工厂方法设计模式的最佳实践/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/02/08/工厂方法设计模式的最佳实践/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>在前面设计模式的例子中我们已经尝试了工厂模式，今天仍然经常会用到它。在这篇文章中我们将会学习到更加高级并且非常有吸引力的解决方案，这就是工厂方法设计模式。</p>
<p><strong>定义：</strong></p>
<p>工厂方法模式展示了一种创建对象的方法，它代替了对象来创建子类。工厂方法模式以一种特殊抽象层的方式解决了工厂模式中的类似问题。</p>
<p>可以使用new关键字实例化对象，例如对象A创建了另一个对象B：</p>
<pre class="brush: java; gutter: true; first-line: 1; highlight: []; html-script: false">
ClassB objB = new ClassB();
</pre>

<p>此时对象A持有了对象B的引用。</p>
<p><a href="http://www.importnew.com/10286.html/two-object-relationship" rel="external" target="_blank"><img src="http://www.importnew.com/wp-content/uploads/2014/03/1333c70d66722d1f79fe7bea6da437b8.jpg" alt="" title="two-object-relationship" width="1080" height="234" class="alignnone size-full wp-image-10287"></a></p>
<p>因为现在对象A依赖于对象B，如果后者发生变动那么我们必须对A进行重新编译。当然生命周期并不像这么简单，对象的创建非常复杂，如果有更多的耦合维护将是一个困难且昂贵的过程。</p>
<p>为了避免这类情况的发生，就需要创建设计模式来解决。可以尝试在客户端和对象的创建者之间创建松耦合，并且给设计者带来其它的好处。工厂方法设计模式就是解决这类问题的方案之一。</p>
<p><strong>常见使用：</strong></p>
<p><strong>工厂方法设计模式</strong>普遍使用于各种框架之中，例如Struts, Spring, Apache和装饰设计模式的结合使用。这里也有多种基于工厂模式的J2EE模式，例如DAO模式。</p>
<p>让我们来看一个关于服装工厂的例子，此时我们正在设计各种各样的衣服但是客户完全不知道这些服装是如何被创建的。虽然我们添加了一个新的服装类型像夹克，但是客户端代码不需要修改，这就增加了应用程序的灵活性。</p>
<p><a href="http://www.importnew.com/10286.html/factory-pattern" rel="external" target="_blank"><img src="http://www.importnew.com/wp-content/uploads/2014/03/2948e38bc61425749da367561470f655.jpg" alt="" title="Factory-Pattern" width="609" height="487" class="alignnone size-full wp-image-10288"></a></p>
<p><strong>何时使用工厂方法设计模式？</strong></p>
<ul><br><li>对象的创建如果需要代码复用却没有现成的代码可用时，工厂方法设计模式就派上用场了。</li><br><li>类并不知道需要创建的是什么子类。</li><br><li>子类可以指定应该创建什么样的对象。</li><br><li>父类会委托它的子类创建对象。</li><br></ul>

<p><strong>结构</strong></p>
<p>下图是强调工厂方法设计模式的一个典型结构。与前面的例子有所不同，这里多添加了一个抽象工厂（工厂）类。</p>
<p><a href="http://www.importnew.com/10286.html/factory_method_design_pattern_01" rel="external" target="_blank"><img src="http://www.importnew.com/wp-content/uploads/2014/03/ceb83dc71861b80570983cae57a70f76.jpg" alt="" title="Factory_Method_Design_Pattern_01" width="930" height="509" class="alignnone size-full wp-image-10289"></a></p>
<p>对应图中的参与者如下：</p>
<ul><br><li>产品：定义了工厂方法创建对象的接口。</li><br><li>具体产品：实现产品的接口。</li><br><li>工厂（创建者）：定义了工厂方法的抽象类并返回一个产品对象。</li><br><li>具体工厂：该类实现和覆盖了父工厂类声明的方法。</li><br></ul>

<p>客户端（例如类A）想要使用被具体工厂类（类B）创建的产品。这样的话，客户端仅持有接口B的引用而不是对象‘类B’，这样就不需要知道任何有关类B的资源，事实上可以有多个类实现抽象类。</p>
<p><strong>工厂方法模式类允许子类来决定实例化哪一个类，这意味着什么？</strong></p>
<p>它基本上意味着工厂抽象类在不知道实际的具体产品角色类将被实例化为什么的情况下就能编码，例如它是裤子还是衬衫，这完全取决于具体的工厂类。</p>
<p>现在让我们实现上述模式的商品服装厂（GarmentFactory）例子。</p>
<p><a href="http://www.importnew.com/10286.html/factory_method_example_watermark" rel="external" target="_blank"><img src="http://www.importnew.com/wp-content/uploads/2014/03/324e2791fc41c7f0647ea048057253d6.jpg" alt="" title="Factory_Method_Example_watermark" width="639" height="480" class="alignnone size-full wp-image-10290"></a></p>
<p>让我们先做一些吧，我们不会为具体的产品例如Shirt.java和Trouser.java而重复写代码。这可以在<a href="http://idiotechie.com/?p=480" target="_blank" rel="external">工厂模式</a>这篇文章中找到。</p>
<p>用户正面临着一个新的工厂抽象类的建立。</p>
<pre class="brush: java; gutter: true; first-line: 1; highlight: []; html-script: false">
public abstract class Factory {
    protected abstract GarmentType createGarments(String selection);
}
</pre>

<p>服装工厂类需要修改来继承抽象工厂类。</p>
<pre class="brush: java; gutter: true; first-line: 1; highlight: []; html-script: false">
public class GarmentFactory extends Factory{
    public GarmentType createGarments(String selection) {
        if (selection.equalsIgnoreCase(&#039;Trouser&#039;)) {
            return new Trouser();
        } else if (selection.equalsIgnoreCase(&#039;Shirt&#039;)) {
            return new Shirt();
        }
        throw new IllegalArgumentException(&#039;Selection doesnot exist&#039;);
    }
}
</pre>

<p>客户端类指的是用工厂类和createGarments（选择）类的工厂方法在运行的时候创建产品。</p>
<pre class="brush: java; gutter: true; first-line: 1; highlight: []; html-script: false">
Factory factory = new GarmentFactory();
GarmentType objGarmentType = factory.createGarments(selection);
System.out.println(objGarmentType.print());
</pre>

<p><strong>好处：</strong></p>
<ul><br><li>代码灵活，松耦合和可复用性，将对象创建的代码从客户端移到了工厂类，那就是它的子类。这非常易于维护相关代码，因为对象的创建非常集中。</li><br><li>客户端代码只处理产品的接口，因此可以无需修改客户端的逻辑代码就能添加任何具体的产品。</li><br><li>工厂方法的优势之一就是可以多次返回相同的实例，或者可以返回一个子类而不是一个具体类型的对象。</li><br><li>它鼓励通过工厂创建代码对象的一致性，每个人都必须遵循一套明确的规则，这避免了在不同的客户端使用不同的构造函数。</li><br></ul>

<p>例子：</p>
<p>JDBC是该模式的一个很好的例子；数据库应用程序不需要知道它将使用哪种数据库，所以它也不知道应该使用什么具体的数据库驱动类。相反，它使用工厂方法来获取连接、语句和其它对象，这使得改变后台数据库变得非常灵活同时并不会改变你的DAO层。</p>
<p>下面是一些关于SDK的例子：</p>
<ul><br><li><code>valueOf()</code>方法会返回工厂创建的对象，这等同于参数传递的值。</li><br><li><code>getInstance()</code> 方法会使用单例模式创建类的实例。</li><br><li><code>newInstance()</code> 方法从每次调用工厂方法时创建和返回新实例。</li><br></ul>

<p>下载<a href="http://idiotechie.com/?attachment_id=921" target="_blank" rel="external">示例代码</a>。</p>
<p> 原文链接： <a target="_blank" href="http://www.javacodegeeks.com/2012/10/design-best-practices-using-factory-method-pattern.html" class="external" rel="nofollow">javacodegeeks</a>    翻译： <a href="http://www.importnew.com" target="_blank" rel="external"> ImportNew.com </a> - <a href="http://www.importnew.com/author/gray" target="_blank" rel="external">郭楚沅</a><br>译文链接： <a href="http://www.importnew.com/10286.html" target="_blank" rel="external">http://www.importnew.com/10286.html</a><br>[ <span style="color:#ff0000"><b>转载请保留原文出处、译者和译文链接。</b></span>]<br><br></p>

        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JAVA/"> #JAVA </a>
          
            <a href="/tags/工厂模式/"> #工厂模式 </a>
          
            <a href="/tags/设计模式/"> #设计模式 </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2015/01/01/第一章/">
                窈冥决【原创】
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-12-31
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/原创/">原创</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/01/01/第一章/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/01/01/第一章/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p>第一部<br>第一章 止剑<br>惊蛰，止剑山，春雷蠢动，两位少年正在练剑，流光剑舞，却是招招有力，行云流水。雨点逐渐打向了两位少年。“整天这么练剑，真的很没有意思，找个时间我们下山走走吧，听山下回来的师兄说，最近山下妖魔出现频繁，要不咱们去除妖？”莫守问道。<br>“别想了，就我们这点剑术，遇到普通小妖尚能应付，如若遇到道行高深的妖怪，神仙都救不了我们。”林彦自嘲道。<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/01/01/第一章/#more">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/侠/"> #侠 </a>
          
            <a href="/tags/窈冥决/"> #窈冥决 </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
      

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              <a class="post-title-link" href="/2014/10/08/JVM最简生存指南/">
                JVM最简生存指南
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于 2014-10-08
        </span>

        
          <span class="post-category">
            &nbsp; | &nbsp; 分类于
            
              <a href="/categories/JAVA/">JAVA</a>

              
              

            
          </span>
        

        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2014/10/08/JVM最简生存指南/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2014/10/08/JVM最简生存指南/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    <div class="post-body">

      
      

      
        
          <p><h1><strong style="font-size: 13px;">最近更新 : </strong><span style="font-size: 13px;">2014年1月9日</span></h1></p>
<p><div class="entry-content"></p>
<p><ul id="markdown-toc"><br>    <li><a href="#why-this-guide">为什么要写这个指南</a></p>
<p><ul><br>    <li><a href="#work-in-progress">持续更新</a></li><br>    <li><a href="#target-audience">目标人群</a></li><br></ul><br>
          <div class="post-more-link text-center">
            <a class="btn" href="/2014/10/08/JVM最简生存指南/#more">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JAVA/"> #JAVA </a>
          
            <a href="/tags/JVM/"> #JVM </a>
          
            <a href="/tags/指南/"> #指南 </a>
          
        </div>
      

      

      
      
        <div class="post-eof"></div>
      
    </div>
  </div>


    
  </div>

  

        </div>
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <div id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <div class="site-overview">
        <div class="site-author motion-element">
          <img class="site-author-image" src="http://ww3.sinaimg.cn/small/9eaa5fcdjw8er7mm0e8xmj20rd18gk8m.jpg" alt="Crimson" />
          <p class="site-author-name">Crimson</p>
        </div>
        <p class="site-description motion-element">郭楚沅的BLOG</p>
        <div class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">5</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">5</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </div>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
              <a href="http://weibo.com/2661965773" target="_blank">Weibo</a>
            </span>
            
              <span class="links-of-author-item">
              <a href="http://blog.whkgo.com" target="_blank">Blogroll</a>
            </span>
            
          
        </div>

        
        

      </div>

      

    </div>
  </div>


    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">Crimson</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



  <script src="//code.jquery.com/jquery-1.7.2.min.js"></script>
  
  <script src="//dn-lbstatics.qbox.me/lbservice/busuanzi/1.0/busuanzi.mini.js"/></script>

  <span id="container_site_counter">
    本站总访问量<span id="value_site_counter"></span>次
  </span>
      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.content img').each(function () {
        var $image = $(this);
        var $imageWrapLink = $image.parent('a');

        if ($imageWrapLink.size() < 1) {
          $imageWrapLink = $image.wrap('<a href="' + this.getAttribute('src') + '"></a>').parent('a');
        }
        $imageWrapLink.addClass('fancybox');
      });
    });
    $('.fancybox').fancybox({
      helpers: {
        overlay: {
          locked: false
        }
      }
    });
  </script>


  <script type="text/javascript">
  function hasMobileUA () {
    var nav = window.navigator;
    var ua = nav.userAgent;
    var pa = /iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;

    return pa.test(ua);
  }

  function isDesktop () {
    return screen.width > 991 && !hasMobileUA();
  }

  function isTablet () {
    return screen.width < 992 && screen.width > 767 && hasMobileUA();
  }

  function isMobile () {
    return screen.width < 767 && hasMobileUA();
  }

  function escapeSelector (selector) {
    return selector.replace(/[!"$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, "\\$&")
  }
</script>

  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" id="motion.global">
  $(document).ready(function () {
    var body = $('body');
    var isSidebarVisible = false;
    var sidebarToggle = $('.sidebar-toggle');
    var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
    var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
    var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
    var sidebar = $('.sidebar');

    var SIDEBAR_WIDTH = '320px';
    var SIDEBAR_DISPLAY_DURATION = 300;

    var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

    var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
    var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

    var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine2ndStatusArrow = {width: '90%'};
    var sidebarToogleLine2ndStatusClose = {opacity: 0};

    var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
    var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
    var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

    LogoAndMenuMotion();
    sidebatToggleMotion();
    postsListMotion();
    backToTopMotion();


    $(document)
      .on('sidebar.isShowing', function () {
        isDesktop() && body.velocity(
          {paddingRight: SIDEBAR_WIDTH},
          SIDEBAR_DISPLAY_DURATION
        );
        sidebarContentMotion();
      })
      .on('sidebar.isHiding', function () {});

    function LogoAndMenuMotion() {
      $.Velocity.RunSequence([
        { e: $('.brand'), p: { opacity: 1 }, o: { duration: 100 } },
        { e: $('.logo'), p: { opacity: 1, top: 0 }, o: { duration: 50} },
        
        { e: $('.site-title'), p: { opacity: 1, top: 0 }, o: { duration: 200 } }
      ]);
      $('.menu-item').velocity('transition.slideDownIn', {display: null});
    }


    function backToTopMotion () {
      var b2top = $('.back-to-top');
      b2top.on('click', function () {
        body.velocity('scroll');
      });
    }

    function sidebarShowMotion () {

      sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
      sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
      sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

      sidebar.velocity({width: SIDEBAR_WIDTH}, {
        display: 'block',
        duration: SIDEBAR_DISPLAY_DURATION,
        complete: function () {
          sidebar.addClass('sidebar-active');
          sidebar.trigger('sidebar.didShow');
        }
      });
      sidebar.trigger('sidebar.isShowing');
    }

    function sidebarHideMotion () {
      isDesktop() && body.velocity({paddingRight: 0});
      sidebar.velocity('reverse');

      sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
      sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
      sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);

      sidebar.removeClass('sidebar-active');
      sidebar.trigger('sidebar.isHiding');
    };

    function sidebarContentMotion () {
      $('.sidebar .motion-element').velocity(
        'transition.slideRightIn',
        {stagger: 50, drag: true}
      );
    }

    function postsListMotion () {
      var postMotionOptions = window.postMotionOptions || {stagger: 300, drag: true};
      $('.post').velocity('transition.slideDownIn', postMotionOptions);
    }

    function sidebatToggleMotion () {
      sidebarToggle.on('click', function () {
        isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
        isSidebarVisible = !isSidebarVisible;
      });

      sidebarToggle.hover(function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
      }, function () {
        if (isSidebarVisible) {return}
        sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
      });
    }
  });

</script>





  

  

  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"crimsonguo"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  


  
</body>
</html>
